import{R as h,G as L,r as u,j as e,S as A,x as U}from"./app-D3o4_Csc.js";import{P as k}from"./PrimaryButton-BgWXYn69.js";import{I as c}from"./InputLabel-CJ12VTUu.js";import{I as d}from"./InputError-D7UQ5kee.js";import{T as p}from"./TextInput-DMdyDCWq.js";var D={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F=h.createContext&&h.createContext(D),W=["attr","size","title"];function H(a,t){if(a==null)return{};var r=M(a,t),s,l;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(l=0;l<m.length;l++)s=m[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(r[s]=a[s])}return r}function M(a,t){if(a==null)return{};var r={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;r[s]=a[s]}return r}function f(){return f=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},f.apply(this,arguments)}function K(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function g(a){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(s){G(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function G(a,t,r){return t=V(t),t in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function V(a){var t=J(a,"string");return typeof t=="symbol"?t:t+""}function J(a,t){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function E(a){return a&&a.map((t,r)=>h.createElement(t.tag,g({key:r},t.attr),E(t.child)))}function Q(a){return t=>h.createElement(X,f({attr:g({},a.attr)},t),E(a.child))}function X(a){var t=r=>{var{attr:s,size:l,title:m}=a,o=H(a,W),x=l||r.size||"1em",i;return r.className&&(i=r.className),a.className&&(i=(i?i+" ":"")+a.className),h.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:i,style:g(g({color:a.color||r.color},r.style),a.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),m&&h.createElement("title",null,m),a.children)};return F!==void 0?h.createElement(F.Consumer,null,r=>t(r)):t(D)}function P(a){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function te(){const{data:a,setData:t,post:r,processing:s,errors:l,reset:m}=L({name:"",email:"",password:"",password_confirmation:"",phone:"",company_name:"",company_id_card:"",face_photo:null,id_card_photo:null,company_id_card_photo:null,agree:!1}),[o,x]=u.useState(1),[i,C]=u.useState({face_photo:null,id_card_photo:null,company_id_card_photo:null}),j=u.useRef(),b=u.useRef(),v=u.useRef(),[S,O]=u.useState("");u.useEffect(()=>()=>{m("password","password_confirmation")},[]);const y=(n,w)=>{const N=n.target.files[0];t(w,N),C(N?_=>({..._,[w]:URL.createObjectURL(N)}):_=>({..._,[w]:null}))},I=n=>{if(n.preventDefault(),o===2&&(!a.face_photo||!a.id_card_photo)){O("Foto wajah dan foto KTP wajib diisi untuk melanjutkan ke step berikutnya.");return}O(""),x(o+1)},R=n=>{n.preventDefault(),x(o-1)},T=n=>{n.preventDefault(),r(route("register"))},z=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",value:"Nama Lengkap"}),e.jsx(p,{id:"name",name:"name",value:a.name,placeholder:"Nama Lengkap",className:"mt-1 block w-full rounded-3xl",autoComplete:"name",isFocused:!0,onChange:n=>t("name",n.target.value),required:!0}),e.jsx(d,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"email",value:"Alamat Email"}),e.jsx(p,{id:"email",type:"email",name:"email",value:a.email,className:"mt-1 block w-full rounded-3xl",autoComplete:"username",placeholder:"youremail@gmail.com",onChange:n=>t("email",n.target.value),required:!0}),e.jsx(d,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"phone",value:"Nomor Telepon"}),e.jsx(p,{id:"phone",type:"tel",name:"phone",value:a.phone,className:"mt-1 block w-full rounded-3xl",placeholder:"081234567890",onChange:n=>t("phone",n.target.value),required:!0}),e.jsx(d,{message:l.phone,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"company_name",value:"Nama Perusahaan"}),e.jsx(p,{id:"company_name",name:"company_name",value:a.company_name,className:"mt-1 block w-full rounded-3xl",placeholder:"Nama Perusahaan",onChange:n=>t("company_name",n.target.value),required:!0}),e.jsx(d,{message:l.company_name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"company_id_card",value:"Nomor Kartu Identitas Perusahaan"}),e.jsx(p,{id:"company_id_card",name:"company_id_card",value:a.company_id_card,className:"mt-1 block w-full rounded-3xl",placeholder:"Nomor Kartu Identitas Perusahaan",onChange:n=>t("company_id_card",n.target.value),required:!0}),e.jsx(d,{message:l.company_id_card,className:"mt-2"})]})]}),B=()=>e.jsxs(e.Fragment,{children:[S&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg font-semibold animate-pulse",children:S}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"face_photo",value:"Foto Wajah (Selfie)"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center border border-dashed border-gray-300 mb-2",children:i.face_photo?e.jsx("img",{src:i.face_photo,alt:"Preview Selfie",className:"w-full h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Belum ada foto"})}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg font-semibold shadow hover:bg-red-700 transition cursor-pointer mt-2",onClick:()=>j.current&&j.current.click(),children:[e.jsx(P,{className:"mr-2"})," Upload Foto"]}),e.jsx("input",{type:"file",id:"face_photo",name:"face_photo",accept:"image/*",className:"hidden",ref:j,onChange:n=>y(n,"face_photo")})]}),e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center ml-auto",children:e.jsx("img",{src:"/images/selfie.png",alt:"Contoh Selfie",className:"w-full h-full object-contain"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Sertakan foto selfie anda, pastikan foto terlihat jelas"}),e.jsx(d,{message:l.face_photo,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"id_card_photo",value:"Foto KTP"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center border border-dashed border-gray-300 mb-2",children:i.id_card_photo?e.jsx("img",{src:i.id_card_photo,alt:"Preview KTP",className:"w-full h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Belum ada foto"})}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg font-semibold shadow hover:bg-red-700 transition cursor-pointer mt-2",onClick:()=>b.current&&b.current.click(),children:[e.jsx(P,{className:"mr-2"})," Upload KTP"]}),e.jsx("input",{type:"file",id:"id_card_photo",name:"id_card_photo",accept:"image/*",className:"hidden",ref:b,onChange:n=>y(n,"id_card_photo")})]}),e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center ml-auto",children:e.jsx("img",{src:"/images/IDCARD.jpeg",alt:"Contoh KTP",className:"w-full h-full object-contain"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Foto KTP harus terlihat jelas"}),e.jsx(d,{message:l.id_card_photo,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"company_id_card_photo",value:"Foto Kartu Identitas Perusahaan"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center border border-dashed border-gray-300 mb-2",children:i.company_id_card_photo?e.jsx("img",{src:i.company_id_card_photo,alt:"Preview Kartu Perusahaan",className:"w-full h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Belum ada foto"})}),e.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg font-semibold shadow hover:bg-red-700 transition cursor-pointer mt-2",onClick:()=>v.current&&v.current.click(),children:[e.jsx(P,{className:"mr-2"})," Upload Kartu Perusahaan"]}),e.jsx("input",{type:"file",id:"company_id_card_photo",name:"company_id_card_photo",accept:"image/*",className:"hidden",ref:v,onChange:n=>y(n,"company_id_card_photo")})]}),e.jsx("div",{className:"inline-block rounded-lg overflow-hidden w-64 h-64 bg-transparent flex flex-col items-center justify-center ml-auto",children:e.jsx("img",{src:"/images/idcardcompany.png",alt:"Contoh Kartu Perusahaan",className:"w-full h-full object-contain"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Foto kartu identitas perusahaan harus terlihat jelas"}),e.jsx(d,{message:l.company_id_card_photo,className:"mt-2"})]})]}),q=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Syarat & Ketentuan"}),e.jsxs("ul",{className:"list-disc pl-6 text-sm text-gray-700",children:[e.jsx("li",{children:"Data yang Anda masukkan harus benar dan dapat dipertanggungjawabkan."}),e.jsx("li",{children:"Foto yang diunggah harus jelas dan sesuai dengan identitas Anda."}),e.jsx("li",{children:"Setelah mendaftar, akun Anda akan diverifikasi oleh admin."}),e.jsx("li",{children:"Jika data tidak valid, akun dapat ditolak."})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"agree",checked:a.agree||!1,onChange:n=>t("agree",n.target.checked),required:!0}),e.jsx("label",{htmlFor:"agree",className:"text-sm",children:"Saya menyetujui syarat & ketentuan di atas"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"password",value:"Kata Sandi"}),e.jsx(p,{id:"password",type:"password",name:"password",value:a.password,className:"mt-1 block w-full rounded-3xl",autoComplete:"new-password",placeholder:"password123",onChange:n=>t("password",n.target.value),required:!0}),e.jsx(d,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"password_confirmation",value:"Konfirmasi Kata Sandi"}),e.jsx(p,{id:"password_confirmation",type:"password",name:"password_confirmation",placeholder:"password123",value:a.password_confirmation,className:"mt-1 block w-full rounded-3xl",autoComplete:"new-password",onChange:n=>t("password_confirmation",n.target.value),required:!0}),e.jsx(d,{message:l.password_confirmation,className:"mt-2"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Daftar - Buku Tamu"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 relative overflow-hidden",style:{backgroundImage:"url('/images/BackgroundPage.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"w-full max-w-3xl p-8 relative z-10 bg-white/80 rounded-xl shadow-lg backdrop-blur-md overflow-auto",style:{maxHeight:"90vh"},children:[e.jsxs("div",{className:"text-left mb-8",children:[e.jsx("img",{src:"/images/logo bosowa.png",alt:"BSW Logo",className:"w-40 mb-4 drop-shadow-lg"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Daftar"}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Buat akun baru untuk mengakses buku tamu"})]}),e.jsxs("form",{onSubmit:o===3?T:I,encType:"multipart/form-data",children:[o===1&&z(),o===2&&B(),o===3&&q(),e.jsxs("div",{className:"flex justify-between mt-8",children:[o>1&&e.jsx("button",{type:"button",onClick:R,className:"rounded-3xl px-6 py-2 bg-gray-300 text-gray-700 hover:bg-gray-400",children:"Kembali"}),o<3&&e.jsx(k,{className:"rounded-3xl px-6",disabled:s,type:"submit",children:"Selanjutnya"}),o===3&&e.jsx(k,{className:"rounded-3xl px-6",disabled:s||!a.agree,type:"submit",children:s?"Memproses...":"Daftar"})]}),e.jsx("div",{className:"my-6 border-t border-gray-300"}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Sudah punya akun?"}),e.jsx(U,{href:route("login"),children:e.jsx(k,{className:"w-full justify-center rounded-3xl bg-gray-300 text-red-700 hover:bg-gray-400",children:"MASUK"})})]})]})]})})]})}export{te as default};
